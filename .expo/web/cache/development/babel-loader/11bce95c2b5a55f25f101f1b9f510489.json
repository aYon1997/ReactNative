{"ast":null,"code":"import _WhiteSpace from \"@ant-design/react-native/lib/white-space\";\nimport _WingBlank from \"@ant-design/react-native/lib/wing-blank\";\nimport _Card from \"@ant-design/react-native/lib/card\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useEffect, useState } from \"react\";\nimport { apiGet } from \"../../apis/request\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar DEFAULT_AVATAR = \"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8d90d4fbbe2413a9c9f5da897394dc5~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image\";\nvar DEFAULT_BRIEF = \"这个人什么都没留下\";\nvar List = function List(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    list = _useState2[0],\n    setList = _useState2[1];\n  useEffect(function () {\n    apiGet({\n      path: \"list\"\n    }).then(function (res) {\n      var _res$data = res.data,\n        data = _res$data === void 0 ? [] : _res$data;\n      var _list = data.filter(function (item) {\n        var _item$item_info, _item$item_info$artic, _item$item_info2;\n        return (item == null ? void 0 : (_item$item_info = item.item_info) == null ? void 0 : (_item$item_info$artic = _item$item_info.article_info) == null ? void 0 : _item$item_info$artic.cover_image) && (item == null ? void 0 : (_item$item_info2 = item.item_info) == null ? void 0 : _item$item_info2.author_user_info);\n      }).map(function (item) {\n        var _item$item_info3, _item$item_info3$arti, _item$item_info4, _item$item_info4$arti, _item$item_info5, _item$item_info5$auth, _item$item_info6, _item$item_info6$auth, _item$item_info7, _item$item_info7$arti;\n        return {\n          title: item == null ? void 0 : (_item$item_info3 = item.item_info) == null ? void 0 : (_item$item_info3$arti = _item$item_info3.article_info) == null ? void 0 : _item$item_info3$arti.title,\n          cover_image: item == null ? void 0 : (_item$item_info4 = item.item_info) == null ? void 0 : (_item$item_info4$arti = _item$item_info4.article_info) == null ? void 0 : _item$item_info4$arti.cover_image,\n          author: item == null ? void 0 : (_item$item_info5 = item.item_info) == null ? void 0 : (_item$item_info5$auth = _item$item_info5.author_user_info) == null ? void 0 : _item$item_info5$auth.user_name,\n          avatar: (item == null ? void 0 : (_item$item_info6 = item.item_info) == null ? void 0 : (_item$item_info6$auth = _item$item_info6.author_user_info) == null ? void 0 : _item$item_info6$auth.avatar_large) || DEFAULT_AVATAR,\n          brief_content: (item == null ? void 0 : (_item$item_info7 = item.item_info) == null ? void 0 : (_item$item_info7$arti = _item$item_info7.article_info) == null ? void 0 : _item$item_info7$arti.brief_content) || DEFAULT_BRIEF\n        };\n      });\n      setList(_list);\n    });\n  }, []);\n  return _jsx(ScrollView, {\n    children: list.map(function (item, idx) {\n      return _jsx(NewItem, {\n        item: item,\n        navigation: navigation\n      }, idx);\n    })\n  });\n};\nvar NewItem = function NewItem(_ref2) {\n  var item = _ref2.item,\n    navigation = _ref2.navigation;\n  return _jsx(TouchableWithoutFeedback, {\n    onPress: function onPress(e) {\n      navigation.navigate({\n        name: \"Search\",\n        params: item\n      });\n    },\n    children: _jsxs(View, {\n      children: [_jsx(_WingBlank, {\n        size: \"md\",\n        children: _jsxs(_Card, {\n          children: [_jsx(_Card.Header, {\n            title: item.title\n          }), _jsx(_Card.Body, {\n            children: _jsx(Image, {\n              source: {\n                uri: DEFAULT_AVATAR\n              },\n              style: styles.img\n            })\n          }), _jsx(_Card.Footer, {\n            content: _jsx(Image, {\n              source: {\n                uri: DEFAULT_AVATAR\n              },\n              style: styles.avatar\n            }),\n            extra: item.author\n          })]\n        })\n      }), _jsx(_WhiteSpace, {\n        size: \"md\"\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  img: {\n    width: \"100%\",\n    height: 200,\n    resizeMode: \"cover\"\n  },\n  avatar: {\n    width: 30,\n    height: 30\n  }\n});\nexport default List;","map":{"version":3,"names":["React","useEffect","useState","apiGet","jsx","_jsx","jsxs","_jsxs","DEFAULT_AVATAR","DEFAULT_BRIEF","List","_ref","navigation","_useState","_useState2","_slicedToArray","list","setList","path","then","res","_res$data","data","_list","filter","item","_item$item_info","_item$item_info$artic","_item$item_info2","item_info","article_info","cover_image","author_user_info","map","_item$item_info3","_item$item_info3$arti","_item$item_info4","_item$item_info4$arti","_item$item_info5","_item$item_info5$auth","_item$item_info6","_item$item_info6$auth","_item$item_info7","_item$item_info7$arti","title","author","user_name","avatar","avatar_large","brief_content","ScrollView","children","idx","NewItem","_ref2","TouchableWithoutFeedback","onPress","e","navigate","name","params","View","_WingBlank","size","_Card","Header","Body","Image","source","uri","style","styles","img","Footer","content","extra","_WhiteSpace","StyleSheet","create","width","height","resizeMode"],"sources":["D:/project/ReactNative/src/page/list/index.js"],"sourcesContent":["import {\n  View,\n  Text,\n  ScrollView,\n  TouchableWithoutFeedback,\n  StyleSheet,\n  Image,\n} from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport { apiGet } from \"../../apis/request\";\nimport { Card, WhiteSpace, WingBlank } from \"@ant-design/react-native\";\n\n// feed 流\n\nconst DEFAULT_AVATAR =\n  \"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8d90d4fbbe2413a9c9f5da897394dc5~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image\";\nconst DEFAULT_BRIEF = \"这个人什么都没留下\";\nconst List = ({ navigation }) => {\n  const [list, setList] = useState([]);\n\n  useEffect(() => {\n    apiGet({ path: \"list\" }).then((res) => {\n      const { data = [] } = res;\n      const _list = data\n        .filter(\n          (item) =>\n            item?.item_info?.article_info?.cover_image &&\n            item?.item_info?.author_user_info\n        )\n        .map((item) => ({\n          title: item?.item_info?.article_info?.title,\n          cover_image: item?.item_info?.article_info?.cover_image,\n          author: item?.item_info?.author_user_info?.user_name,\n          avatar:\n            item?.item_info?.author_user_info?.avatar_large || DEFAULT_AVATAR,\n          brief_content:\n            item?.item_info?.article_info?.brief_content || DEFAULT_BRIEF,\n        }));\n      setList(_list);\n    });\n  }, []);\n\n  return (\n    <ScrollView>\n      {list.map((item, idx) => (\n        <NewItem key={idx} item={item} navigation={navigation} />\n      ))}\n    </ScrollView>\n  );\n};\n\nconst NewItem = ({ item, navigation }) => {\n  return (\n    <TouchableWithoutFeedback\n      onPress={(e) => {\n        navigation.navigate({ name: \"Search\", params: item });\n      }}\n    >\n      <View>\n        <WingBlank size=\"md\">\n          <Card>\n            <Card.Header title={item.title}></Card.Header>\n            <Card.Body>\n              <Image source={{ uri: DEFAULT_AVATAR }} style={styles.img} />\n            </Card.Body>\n            <Card.Footer\n              content={\n                <Image source={{ uri: DEFAULT_AVATAR }} style={styles.avatar} />\n              }\n              extra={item.author}\n            />\n          </Card>\n        </WingBlank>\n        <WhiteSpace size=\"md\" />\n      </View>\n    </TouchableWithoutFeedback>\n  );\n};\n\nconst styles = StyleSheet.create({\n  img: {\n    width: \"100%\",\n    height: 200,\n    resizeMode: \"cover\",\n  },\n  avatar: {\n    width: 30,\n    height: 30,\n  },\n});\n\nexport default List;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}