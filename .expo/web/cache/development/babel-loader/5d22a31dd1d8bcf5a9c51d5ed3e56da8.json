{"ast":null,"code":"import _WhiteSpace from \"@ant-design/react-native/lib/white-space\";\nimport _WingBlank from \"@ant-design/react-native/lib/wing-blank\";\nimport _Card from \"@ant-design/react-native/lib/card\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useEffect, useState } from 'react';\nimport { apiGet } from \"../../apis/request\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar DEFAULT_AVATAR = \"https://p9-passport.byteacctimg.com/img/user-avatar/26d6a615abdcb44d6fc1bf35775e093c~300x300.image\";\nvar DEFAULT_BRIEF = \"这个人什么都没留下\";\nvar List = function List(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    list = _useState2[0],\n    setList = _useState2[1];\n  useEffect(function () {\n    apiGet({\n      path: 'list'\n    }).then(function (res) {\n      var _res$data = res.data,\n        data = _res$data === void 0 ? [] : _res$data;\n      var _list = data.filter(function (item) {\n        var _item$item_info, _item$item_info$artic, _item$item_info2;\n        return (item == null ? void 0 : (_item$item_info = item.item_info) == null ? void 0 : (_item$item_info$artic = _item$item_info.article_info) == null ? void 0 : _item$item_info$artic.cover_image) && (item == null ? void 0 : (_item$item_info2 = item.item_info) == null ? void 0 : _item$item_info2.author_user_info);\n      }).map(function (item) {\n        var _item$item_info3, _item$item_info3$arti, _item$item_info4, _item$item_info4$arti, _item$item_info5, _item$item_info5$auth, _item$item_info6, _item$item_info6$auth, _item$item_info7, _item$item_info7$arti;\n        return {\n          title: item == null ? void 0 : (_item$item_info3 = item.item_info) == null ? void 0 : (_item$item_info3$arti = _item$item_info3.article_info) == null ? void 0 : _item$item_info3$arti.title,\n          cover_image: item == null ? void 0 : (_item$item_info4 = item.item_info) == null ? void 0 : (_item$item_info4$arti = _item$item_info4.article_info) == null ? void 0 : _item$item_info4$arti.cover_image,\n          author: item == null ? void 0 : (_item$item_info5 = item.item_info) == null ? void 0 : (_item$item_info5$auth = _item$item_info5.author_user_info) == null ? void 0 : _item$item_info5$auth.user_name,\n          avatar: (item == null ? void 0 : (_item$item_info6 = item.item_info) == null ? void 0 : (_item$item_info6$auth = _item$item_info6.author_user_info) == null ? void 0 : _item$item_info6$auth.avatar_large) || DEFAULT_AVATAR,\n          brief_content: (item == null ? void 0 : (_item$item_info7 = item.item_info) == null ? void 0 : (_item$item_info7$arti = _item$item_info7.article_info) == null ? void 0 : _item$item_info7$arti.brief_content) || DEFAULT_BRIEF\n        };\n      });\n      setList(_list);\n    });\n  }, []);\n  return _jsx(ScrollView, {\n    children: list.map(function (item, idx) {\n      return _jsx(NewItem, {\n        item: item,\n        navigation: navigation\n      }, idx);\n    })\n  });\n};\nvar NewItem = function NewItem(_ref2) {\n  var item = _ref2.item,\n    navigation = _ref2.navigation;\n  return _jsx(TouchableWithoutFeedback, {\n    onPress: function onPress(e) {},\n    children: _jsxs(View, {\n      children: [_jsx(_WingBlank, {\n        size: \"md\",\n        children: _jsxs(_Card, {\n          children: [_jsx(_Card.Header, {\n            title: item.title\n          }), _jsx(_Card.Body, {\n            children: _jsx(View, {\n              children: _jsx(Image, {\n                source: {\n                  uri: item.avatar\n                },\n                style: styles.img\n              })\n            })\n          }), _jsx(_Card.Footer, {\n            content: _jsx(Image, {\n              source: {\n                uri: item.avatar\n              },\n              style: styles.avatar\n            }),\n            extra: item.author\n          })]\n        })\n      }), _jsx(_WhiteSpace, {\n        size: \"md\"\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  img: {\n    width: \"100%\",\n    height: 200,\n    resizeMode: \"cover\"\n  },\n  avatar: {\n    width: 30,\n    height: 30\n  }\n});\nexport default List;","map":{"version":3,"names":["React","useEffect","useState","apiGet","jsx","_jsx","jsxs","_jsxs","DEFAULT_AVATAR","DEFAULT_BRIEF","List","_ref","navigation","_useState","_useState2","_slicedToArray","list","setList","path","then","res","_res$data","data","_list","filter","item","_item$item_info","_item$item_info$artic","_item$item_info2","item_info","article_info","cover_image","author_user_info","map","_item$item_info3","_item$item_info3$arti","_item$item_info4","_item$item_info4$arti","_item$item_info5","_item$item_info5$auth","_item$item_info6","_item$item_info6$auth","_item$item_info7","_item$item_info7$arti","title","author","user_name","avatar","avatar_large","brief_content","ScrollView","children","idx","NewItem","_ref2","TouchableWithoutFeedback","onPress","e","View","_WingBlank","size","_Card","Header","Body","Image","source","uri","style","styles","img","Footer","content","extra","_WhiteSpace","StyleSheet","create","width","height","resizeMode"],"sources":["/Users/gavin/Documents/src/open_course/new_with_fs/20240303_RN_code/0303/src/page/list/index.js"],"sourcesContent":["import { View, Text, ScrollView, TouchableWithoutFeedback, StyleSheet, Image } from 'react-native'\nimport React, { useEffect, useState } from 'react'\nimport { apiGet } from '../../apis/request'\nimport { Card, WhiteSpace, WingBlank } from '@ant-design/react-native';\n\n// feed 流\n\nconst DEFAULT_AVATAR = \"https://p9-passport.byteacctimg.com/img/user-avatar/26d6a615abdcb44d6fc1bf35775e093c~300x300.image\"\nconst DEFAULT_BRIEF = \"这个人什么都没留下\";\nconst List = ({ navigation }) => {\n\n  const [ list, setList ] = useState([]);\n\n  useEffect(() => {\n    apiGet({ path: 'list'}).then(res => {\n      const { data = [] } = res;\n      const _list = data.filter(item => item?.item_info?.article_info?.cover_image && item?.item_info?.author_user_info)\n      .map(item => ({\n        title: item?.item_info?.article_info?.title,\n        cover_image: item?.item_info?.article_info?.cover_image,\n        author: item?.item_info?.author_user_info?.user_name,\n        avatar: item?.item_info?.author_user_info?.avatar_large || DEFAULT_AVATAR,\n        brief_content: item?.item_info?.article_info?.brief_content || DEFAULT_BRIEF,\n      }))\n      setList(_list);\n    })\n  }, [])\n\n  return (\n    <ScrollView>\n      {\n        list.map((item, idx) => <NewItem key={idx} item={item} navigation={navigation} />)\n      }\n    </ScrollView>\n  )\n}\n\nconst NewItem = ({ item, navigation }) => {\n  return (\n    <TouchableWithoutFeedback\n    onPress={(e) => {}}\n    >\n      <View>\n        <WingBlank size='md'>\n        <Card>\n            <Card.Header title={item.title}></Card.Header>\n            <Card.Body>\n              <View>\n                <Image source={{uri: item.avatar}} style={styles.img} />\n              </View>\n            </Card.Body>\n            <Card.Footer\n              content={\n                <Image source={{ uri: item.avatar }} style={styles.avatar} />\n              }\n              extra={item.author}\n            />\n          </Card>\n        </WingBlank>\n        <WhiteSpace size='md' />\n      </View>\n    </TouchableWithoutFeedback>\n  )\n}\n\nconst styles = StyleSheet.create({\n  img: {\n    width: \"100%\",\n    height: 200,\n    resizeMode: \"cover\"\n  },\n  avatar: {\n    width: 30,\n    height: 30,\n  }\n})\n\nexport default List"],"mappings":"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"},"metadata":{},"sourceType":"module"}